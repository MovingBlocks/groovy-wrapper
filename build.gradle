apply plugin: 'java'

version = '2.2.0'

dependencies {
    implementation files('gradle/wrapper/gradle-wrapper.jar')
}

task copyToWrapperDir(type: Copy) {
    description 'Copies the Groovy wrapper binary to its runtime home with the Gradle wrapper'
    dependsOn build
    from jar
    into 'gradle/wrapper'
    rename "-${version}", ""
}

task distZip(type: Zip) {
    description 'Makes a zip file containing just the Groovy wrapper binary and scripts'
    dependsOn copyToWrapperDir
    from 'gradle/wrapper/groovy-wrapper.jar'
    from 'groovyw'
    from 'groovyw.bat'
}

task prep {
    description 'Simply builds and makes sure the Groovy wrapper jar is in place for local execution'
    dependsOn build
    dependsOn copyToWrapperDir
}
